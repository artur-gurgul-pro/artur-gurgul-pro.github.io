<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Artur Gurgul - Git - squasing commits</title>
  <meta name="author" content="Artur Gurgul" />
  <meta name="description" content="The blog of Artur Gurgul" />
  
  <link href="//fonts.googleapis.com/css?family=Open+Sans:600,800" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="alternate" type="application/atom+xml" title="Artur Gurgul" href="http://localhost:4000/atom.xml" />
  <link rel="stylesheet" href="/assets/css/all.css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha256-k2/8zcNbxVIh5mnQ52A0r3a6jAgMGxFJFE2707UxGCk= sha512-ZV9KawG2Legkwp3nAlxLIVFudTauWuBpC10uEafMHYL0Sarrz5A7G79kXh5+5+woxQ5HM559XX2UZjMJ36Wplg==" crossorigin="anonymous">
  <style>
    #post pre {
      background-color: white;
      border-left: 12px solid #eee;
      padding: 0 .8em;
    }

    #post code {
      background-color: transparent;
    }

    .highlight {
      background-color: #333;
    }
    #stalker {
      float: inherit;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="four columns sidebar no-print">
      <nav>
  <!-- <a href="/">
    <img src="/logo.png" id="logo" alt="Blog logo"/>
  </a>
  <div id="social">
    <div id="stalker" style="text-align: center; width:100%">
      
      <a title="artur-gurgul on Github" href="https://github.com/artur-gurgul">
        <i class="fa fa-github-square"></i>
      </a>
      
    
      
      <a title="Artur Gurgul on Stack Overflow" href="http://stackoverflow.com/users/743268">
        <i class="fa fa-stack-overflow"></i>
      </a>
      
    
    
      
      <a title="Artur Gurgul on LinkedIn" href="https://www.linkedin.com/in/gurgul">
        <i class="fa fa-linkedin-square"></i>
      </a>
      
      
    </div>
  </div>
   -->

   <h2 style="font-size: 20px;margin: 0px;">Hi. I'm <a href="/"> Artur Gurgul</a>,</h2>
   <h2 style="font-size: 15px;margin-top: -0.5em;">and this is my notepad.</h2>
  <hr class="hr-text" data-content="Contents"/>
  <ul id="blog-posts" class="posts">
  
    <li><span>&raquo;</span><a href="/git/squash.html">Git - squasing commits</a></li>
  
    <li><span>&raquo;</span><a href="/linux/recepies/archlinux-install-media.html">[DRAFT] Install media for archlinux</a></li>
  
    <li><span>&raquo;</span><a href="/regex/regex-find-any.html">Regex: Find any</a></li>
  
    <li><span>&raquo;</span><a href="/linux/recepies/creating-ram-disk.html">Linux - RAM disk </a></li>
  
    <li><span>&raquo;</span><a href="/swift/ios-threading.html">iOS - Threading</a></li>
  
    <li><span>&raquo;</span><a href="/commandline/recepies.html">Commandline recepies</a></li>
  
    <li><span>&raquo;</span><a href="/golang/bridging.html">Golang bridging</a></li>
  
    <li><span>&raquo;</span><a href="/linux/recepies/power-management.html">Ubuntu - Power management</a></li>
  
  </ul>



  
  
</nav>

    </div>

    <div class="eleven columns content">
      <h1 class="title">Git - squasing commits</h1>

<div id="post">
  <p>In this post I will despcibe how to change git history and make history looking better. First thing we want to do is to make history as much linear as possible, so it is easier to keep track of changes. We can achieve this by rebase.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git rebase feature-branch</code></pre></figure>

<p>After this command, <code class="highlighter-rouge">feature-branch</code> will move all commits atop the branch it’s comes from.</p>

<p>Adding <code class="highlighter-rouge">-i</code> parameter we have posibility to squash and chnage messages of commiits.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git rebase -i HEAD~3</code></pre></figure>

<p>This command takes three last commits and ask us what to do with them by opeining the default editor with file like the one presented below.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">pick f392171 Added new feature X
pick ba9dd9a Added new elements to page design
pick df71a27 Updated CSS <span class="k">for </span>new elements</code></pre></figure>

<p><code class="highlighter-rouge">pick</code> mean that the commit will be taken, but we can replace this with squash commit, which means two or more commits will be merged. See an exaple below.</p>

<figure class="highlight"><pre><code class="language-plaintext" data-lang="plaintext">pick f392171 New message for this three commit!
squash ba9dd9a
squash df71a27</code></pre></figure>

<p>Now we can accept the change by continuing the rebase:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git rebase --continue</code></pre></figure>

<p>After that we can push the changes to the remote. Pretty often we have to force overriding using this command:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git push origin master --force</code></pre></figure>

<h2 id="squash-merge">Squash merge</h2>

<p>In oder to keep history clean sometimes we want to merge our changes on feature branch another branch into main branch as single commit, and we can do this as below:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git checkout master
git merge --squash bugfix
git commit</code></pre></figure>


</div>

        
    <ul class="tag_list_in_post"></ul>
      <div class="footer">
        <div class="disclaimer">
  <p>
  © Artur Gurgul, 2016 &mdash; Public Domain Licence
  </p>
</div>

      </div>
    </div>
  </div>

  
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-41036379-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</body>
</html>
