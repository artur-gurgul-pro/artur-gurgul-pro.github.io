---
layout: post
title:  "Vim notes"
categories: software
---

#### Symbols and meanings
- `%` &rarr; current file. An example:  `:so %` &rarr; Source the current file
- `$` &rarr; end of line

#### Tips

- `:e[dit]` &rarr;	Edit the current file. This is useful to re-edit the current file, when it has been changed outside of Vim.

#### Navigation

- `e` &rarr; Forward to the end of word. `E` can contain punctuation
- `b` &rarr; Jump backwards to the start of a word. `B` can contain punctuation
-  `[`,`]` &rarr; Jump by paragraphs

### List of the commands

Common meaning of letters in the commands
- `w` &rarr; word
- `i` &rarr; inner

| Command |  |
| ---: | :--- |
| `dd` |  Delete one line |
| `d+` | Delete 2 lines |
| `:%d` or :`1,$d` |  Delete the whole of the file |
| `dw`, `diw` | Delete what that the cursor is over |
| `di(` | Delete inner brackets|
| `:read !date` | Execute commend and put content into editor |
| `.` | Repeat the last operation |
| `gU` | Uppercase the selection, `gu`  &rarr; lower |
| `%` | Jump to matching bracket `{ }` `[ ]` `( )` |

#### Visual Mode

- `V` &rarr; Selection by lines
- `v` &rarr; Selection follows the cursor
- `Ctrl+v` &rarr;  Block selection

#### Split the editor

- `:sp <filename>` &rarr; Vertically
- `:vs <filename>` &rarr; Horizontally

#### Markers

-  `:marks` &rarr;  list of marks 
- `ma` &rarr; set current position for mark `a`
- `` `a`` &rarr; jump to position of mark `a`
- ``y`a`` &rarr; yank text to position of mark `a` 

### Recording macros

1. `qa` &rarr; Start recording macro under letter `a`
2. `q` &rarr; Stop recording 
3. `@a` &rarr; Play the macro saved under letter a
4. `@@` &rarr; Play the last macro

#### Searching

- `:%s/Plug.*$//` &rarr; Search and delete all lines that starts from Plug
- `:%s/foo/bar/gc` &rarr; Replace all occurrence of foo by bar with confirmation
- `/pattern` &rarr; search for pattern then enter and `n` next `N` previous match
- `?pattern` &rarr; search backward for pattern

### Registers

- `:reg` &rarr; print all registers
- `"ap` &rarr; paste the register `a` , if the macro is recorded then it will paste it
- `"xy` &rarr; yank into register `x` 
- `:let @a = "kkll"` &rarr; set a macro from the command mode

#### Configuration

The config file is located at `.config/nvim/init.vim`

```vim
if empty(glob('~/.local/share/nvim/site/autoload/plug.vim'))
  silent !curl -fLo ~/.local/share/nvim/site/autoload/plug.vim --create-dirs
    \ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
  autocmd VimEnter * PlugInstall --sync | source $MYVIMRC
endif

call plug#begin('~/.vim/plugged')

  Plug 'junegunn/fzf'

  Plug 'neovim/nvim-lspconfig'
  Plug 'neoclide/coc.nvim', {'branch': 'release'}
  
  Plug 'vim-airline/vim-airline'
  Plug 'vim-airline/vim-airline-themes'
  
  Plug 'vim-syntastic/syntastic'
  Plug 'tokorom/syntastic-swiftlint.vim'
  
call plug#end()
```

- `set relativenumber`
- `set encoding=utf-8`
- `syntax on` 
- `map za :FZF<CR>` &rarr; fuzzy finder over `za`

Indentation setup 

- `set tabstop=2 shiftwidth=2 expandtab`
- `filetype plugin indent on`

```vim
let g:syntastic_swift_checkers = ['swiftlint', 'swiftpm']
lua << EOF
  local lspconfig = require('lspconfig')
  lspconfig.sourcekit.setup{}
EOF
```